(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports={publish:"_3n9f0UmbZqRf0BApphRELA","publish-cate":"_2iB7jj3ubqk5zhWpxjrv0Z"}},150:function(e,t,a){e.exports={login:"dtrIuLYxEE1ukJD2SpLZz"}},155:function(e,t,a){e.exports=a(339)},275:function(e,t){},30:function(e,t,a){e.exports={topic:"_3GXNKqzrLsIGBXGKsPG8It","topic-head":"_2Ufs6qYPTlqBTri90PKm3H","topic-head-img":"_1xarY-7QsOD2bOGqoIkmm3","topic-head-left":"_2s3u8O7d4UlNhV0_h03h3P","topic-head-info":"qhAJu0tfY-r8uKr3NqNuw","topic-head-user":"_1MNftuyhmqNPFPvZnqhRNg","topic-head-collect":"_3K4a_tt7Ns_89WLzRVwgjB","comment-head":"_1kaTVEv3O6BAZmw2Q2dBT5","comment-head-left":"_1IXrMxFqwDyEFA3YaUFyh4","comment-head-right":"ftu4WhTQw589d5CV0vM-Y","comment-add":"_2INPMnGT_E6fysH6K7hZ7_"}},337:function(e,t,a){},339:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=a(349),i=a(348),s=(a(160),a(140)),u=a.n(s),p=(a(51),a(26)),d=a.n(p),m=a(15),E=a(16),h=a(18),f=a(17),g=a(19),b=(a(208),a(104)),v=a.n(b),y=a(346),_=a(21),C=v.a.Item,O=function(e){function t(e){var a;Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={visible:!1,selected:""},a.onSelect=function(e){switch(a.setState({visible:!1,selected:e.props.value}),e.props.value){case"reload":a.props.history.go();break;case"login":a.props.history.replace("/login");break;case"logout":a.props.loginOut(),a.props.history.go()}},a.handleVisibleChange=function(e){a.setState({visible:e})};var n=a.props.pageRefresh;return a.props.login.data.accesstoken||n(),a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,a=null;return a=e.login.data.accesstoken?[r.a.createElement(C,{key:"1",value:"reload",icon:r.a.createElement("i",{className:"iconfont icon-reload"})},"\u5237\u65b0"),r.a.createElement(C,{key:"2",value:"logout",icon:r.a.createElement("i",{className:"iconfont icon-logout"})},"\u9000\u51fa")]:[r.a.createElement(C,{key:"1",value:"reload",icon:r.a.createElement("i",{className:"iconfont icon-reload"})},"\u5237\u65b0"),r.a.createElement(C,{key:"2",value:"login",icon:r.a.createElement("i",{className:"iconfont icon-login"})},"\u767b\u9646")],r.a.createElement(u.a,{mode:"light",icon:r.a.createElement(d.a,{type:"left"}),onLeftClick:function(){return t.goBack()},rightContent:r.a.createElement(v.a,{mask:!0,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:a,align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},r.a.createElement("div",{style:{height:"100%",padding:"0 15px",marginRight:"-15px",display:"flex",alignItems:"center"}},r.a.createElement(d.a,{type:"ellipsis"})))},"Cnode \u793e\u533a(\u4e2a\u4eba\u7248)")}}]),t}(n.PureComponent),j=Object(y.a)(Object(_.b)(function(e){return{login:e.login}},{loginOut:function(){return{type:"LOGIN_OUT"}},pageRefresh:function(){return{type:"PAGE_REFRESH"}}})(O)),T=(a(220),a(65)),k=a.n(T),S=a(218),x=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={selectedTab:"indexTab",hidden:!1,fullScreen:!0},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.history,n=t.login;return r.a.createElement("div",{style:this.state.fullScreen?{position:"fixed",width:"100%",bottom:0}:{height:400}},r.a.createElement(k.a,{unselectedTintColor:"#949494",tintColor:"#33A3F4",barTintColor:"white",hidden:this.state.hidden,tabBarPosition:"bottom"},r.a.createElement(k.a.Item,{title:"\u9996\u9875",key:"index",icon:r.a.createElement("i",{className:"iconfont icon-home",style:{fontSize:"22px"}}),selectedIcon:r.a.createElement("i",{className:"iconfont icon-home",style:{fontSize:"22px"}}),selected:"indexTab"===this.state.selectedTab,onPress:function(){e.setState({selectedTab:"indexTab"}),a.push("/")},"data-seed":"logId"}),r.a.createElement(k.a.Item,{icon:r.a.createElement("i",{className:"iconfont icon-edit",style:{fontSize:"22px"}}),selectedIcon:r.a.createElement("i",{className:"iconfont icon-edit",style:{fontSize:"22px"}}),title:"\u53d1\u8868",key:"publish",selected:"publishTab"===this.state.selectedTab,onPress:function(){e.setState({selectedTab:"publishTab"}),n.data.accesstoken?a.push("/publish"):a.push("/login")},"data-seed":"logId1"}),r.a.createElement(k.a.Item,{icon:r.a.createElement("i",{className:"iconfont icon-bell",style:{fontSize:"22px"}}),selectedIcon:r.a.createElement("i",{className:"iconfont icon-bell",style:{fontSize:"22px"}}),title:"\u6d88\u606f",key:"message",dot:!0,selected:"messageTab"===this.state.selectedTab,onPress:function(){e.setState({selectedTab:"messageTab"}),n.data.accesstoken?a.push("/message"):a.push("/login")}}),r.a.createElement(k.a.Item,{icon:r.a.createElement("i",{className:"iconfont icon-user",style:{fontSize:"22px"}}),selectedIcon:r.a.createElement("i",{className:"iconfont icon-user",style:{fontSize:"22px"}}),title:"\u6211\u7684",key:"my",selected:"myTab"===this.state.selectedTab,onPress:function(){e.setState({selectedTab:"myTab"}),n.data.accesstoken?a.push("/user/".concat(n.data.loginname)):a.push("/login")}})))}}]),t}(n.PureComponent),N=Object(S.a)(Object(_.b)(function(e){return{login:e.login}},{})(x)),I=(a(98),a(61)),w=a.n(I),R=(a(39),a(14)),F=a.n(R),L=(a(59),a(23)),U=a.n(L),H=(a(239),a(106)),P=a.n(H),D=a(45),A=a.n(D),G=a(347),Q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).getTab=function(e){return{all:"\u5168\u90e8",good:"\u7cbe\u534e",share:"\u5206\u4eab",job:"\u62db\u8058",ask:"\u95ee\u7b54",dev:"\u5ba2\u6237\u7aef\u6d4b\u8bd5"}[e]},a.getDes=function(e){return(e=(e=(e=e.replace(/<\/?[^>]*>/g,"")).replace(/[|]*\n/,"")).replace(/&npsp;/gi,"")).substring(0,100)},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.obj;return r.a.createElement("div",{key:e.id,className:A.a["topic-item"]},r.a.createElement(U.a,null,r.a.createElement("div",{className:A.a["item-titile"]},r.a.createElement("span",{className:e.top||e.good?A.a.top:""},e.top?"\u7f6e\u9876":e.good?"\u7cbe\u534e":this.getTab(e.tab)),r.a.createElement(G.a,{to:"/topic/".concat(e.id)},e.title)),r.a.createElement("div",{className:A.a["item-content"]},this.getDes(e.content)),r.a.createElement("div",{className:A.a["item-footer"]},r.a.createElement("div",{className:A.a["item-footer-user"]},r.a.createElement("img",{src:e.author.avatar_url,alt:e.author.loginname}),e.author.loginname),r.a.createElement("div",{className:A.a["item-footer-right"]},"\u9605\u8bfb\xa0",e.visit_count,"\xa0\xa0\u8bc4\u8bba\xa0",e.reply_count,"\xa0"))))}}]),t}(n.PureComponent),z=function(e){function t(e){var a;Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).onEndReached=function(e){a.setState({isLoading:!0});var t=a.props,n=t.tab,r=t.fechTopics,c=t.topics;r({tab:n,page:c[n].page,limit:c[n].limit})},a.getScrollTop=function(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e};var n=new P.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),r=a.props,c=r.tab,o=r.topics,l=o[c].data;return o[c].data.length?a.state={dataSource:n.cloneWithRows(l),isLoading:!0}:a.state={dataSource:n,isLoading:!0},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.tab,a=e.fechTopics,n=e.topics;n[t].data.length||a({tab:t,page:n[t].page,limit:n[t].limit})}},{key:"componentWillReceiveProps",value:function(e){var t=e.tab,a=e.topics,n=a[t].data;n!==this.props.dataSource&&this.setState(function(e,t){return{dataSource:e.dataSource.cloneWithRows(n),isLoading:!1}},function(){a[t].scrollTop&&(document.scrollTop=a[t].scrollTop)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.tab,c=t.topics,o=t.getScrollTop;return r.a.createElement(n.Fragment,null,c[a].error?r.a.createElement("div",null,r.a.createElement(F.a,null),r.a.createElement(U.a,null,c[a].error),r.a.createElement(F.a,null)):r.a.createElement(P.a,{ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderFooter:function(){return r.a.createElement("div",{style:{padding:30,textAlign:"center"}},e.state.isLoading?"Loading...":"Loaded")},renderRow:function(e){return r.a.createElement(Q,{obj:e})},className:"am-list",initialListSize:c[a].data.length?c[a].data.length:20,pageSize:20,useBodyScroll:!0,onScroll:function(){var t=e.getScrollTop();o(t,a)},scrollRenderAheadDistance:500,onEndReached:this.onEndReached,onEndReachedThreshold:10}))}}]),t}(n.PureComponent),B=Object(_.b)(function(e){return{topics:e.topics}},{fechTopics:function(e){return{type:"FETCH_TOPICS_REQUEST",payload:e}},getScrollTop:function(e,t){return{type:"GET_SCROLL_TOP",scrollTop:e,tab:t}}})(z),M=a(42),V=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).renderContent=function(e){return r.a.createElement("div",{style:{backgroundColor:"#fff"}},r.a.createElement(B,{tab:e.key}))},a.scrollTop=function(){document.body.scrollTop=document.documentElement.scrollTop=0},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,null),r.a.createElement(M.Helmet,null,r.a.createElement("title",null,"CNode\uff1aNode.js\u4e13\u4e1a\u4e2d\u6587\u793e\u533a"),r.a.createElement("meta",{name:"description",content:"CNode\uff1aNode.js\u4e13\u4e1a\u4e2d\u6587\u793e\u533a"})),r.a.createElement("div",{className:"main"},r.a.createElement(w.a,{tabs:[{title:"\u5168\u90e8",key:"all"},{title:"\u7cbe\u534e",key:"good"},{title:"\u5206\u4eab",key:"share"},{title:"\u95ee\u7b54",key:"ask"},{title:"\u62db\u8058",key:"job"}],swipeable:!1,onChange:function(t,a){e.props.tabActive(a)},initialPage:this.props.tab,renderTabBar:function(e){return r.a.createElement(w.a.DefaultTabBar,Object.assign({},e,{page:5}))}},this.renderContent)),r.a.createElement("div",{className:"top",onClick:this.scrollTop},r.a.createElement(d.a,{type:"up"})),r.a.createElement(F.a,null))}}]),t}(n.Component),q=Object(_.b)(function(e){return{tab:e.tab}},{tabActive:function(e){return{type:"TAB_ACTIVE",num:e}}})(V),W=(a(53),a(13)),Z=a.n(W),Y=function(e){return{type:"FETCH_REPLIES_REQUEST",payload:e}},J=(a(52),a(29)),K=a.n(J),X=(a(99),a(63)),$=a.n(X),ee=(a(78),a(43)),te=a.n(ee),ae=a(149),ne=a.n(ae),re=(a(277),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).clearEditor=function(){a.simplemde.value("")},a.deleteEditor=function(){o.a.unmountComponentAtNode(document.getElementById("myEditor"))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onRef(this),this.simplemde=new ne.a({element:document.getElementById("editor"),placeholder:"markdown\u8bed\u6cd5"}),this.simplemde.codemirror.on("change",function(){var t=e.simplemde.value();e.props.getContent(t)})}},{key:"render",value:function(){return r.a.createElement("div",{id:"myEditor"},r.a.createElement("textarea",{id:"editor"}))}}]),t}(n.PureComponent)),ce=a(30),oe=a.n(ce),le=K.a.Item,ie=function(e){function t(){var e,a;Object(m.a)(this,t);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={is_reply:!1,content:null},a.setContent=function(e){a.setState({content:e})},a.handleUp=function(){var e=a.props,t=e.item,n=e.login,r=e.fechRepliesUp,c=e.topic_id;if(!n.data.accesstoken)return Z.a.info("\u767b\u9646\u540e\u64cd\u4f5c!",1),!1;r({topic_id:c,reply_id:t.id})},a.handleReply=function(){if(!a.props.login.data.accesstoken)return Z.a.info("\u767b\u9646\u540e\u64cd\u4f5c!",1),!1;a.setState(function(e,t){return{is_reply:!e.is_reply}},function(){a.state.is_reply||a.child.deleteEditor()})},a.handleClick=function(){var e=a.props,t=e.topic_id,n=e.fechReplies,r=e.item,c=r.id,o="@".concat(r.author.loginname," ").concat(a.state.content);if(!o)return Z.a.info("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a",1),!1;n({content:o,id:t,reply_id:c}),a.child.clearEditor(),a.setState({is_reply:!a.state.is_reply})},a.onRef=function(e){a.child=e},a.renderEidtor=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(re,{getContent:a.setContent,onRef:a.onRef}),r.a.createElement($.a,{justify:"end"},r.a.createElement(te.a,{style:{marginRight:"10px"},type:"ghost",inline:!0,size:"small",onClick:a.handleClick},"\u53d1\u5e03")))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.timeagoInstance;return r.a.createElement(n.Fragment,null,r.a.createElement(le,{key:t.id,wrap:!0},r.a.createElement("div",{className:oe.a["comment-head"]},r.a.createElement("div",{className:oe.a["comment-head-left"]},r.a.createElement("img",{src:t.author.avatar_url,alt:t.author.loginname}),r.a.createElement(G.a,{to:"/user/".concat(t.author.loginname)},t.author.loginname),r.a.createElement("span",{style:{fontSize:"13px",color:"#666"}},"\xa0\xa0",a.format(t.create_at,"zh_CN"))),r.a.createElement("div",{className:oe.a["comment-head-right"]},r.a.createElement("i",{className:"icon iconfont",onClick:this.handleUp},"\ue7c8"),"\xa0",t.ups.length&&t.ups.length,r.a.createElement("i",{className:"icon iconfont",onClick:this.handleReply},"\uec45"))),r.a.createElement("article",{className:"markdown-body",dangerouslySetInnerHTML:{__html:t.content}})),this.state.is_reply&&this.renderEidtor())}}]),t}(n.PureComponent),se=Object(_.b)(function(e){return{login:e.login}},{fechRepliesUp:function(e){return{type:"FETCH_REPLIES_UP_REQUEST",payload:e}},fechReplies:Y})(ie),ue=function(e){function t(){var e,a;Object(m.a)(this,t);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={content:null},a.setContent=function(e){a.setState({content:e})},a.handleClick=function(){var e=a.props,t=e.id,n=e.fechReplies,r=a.state.content;if(!r)return Z.a.info("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a",1),!1;n({content:r,id:t}),a.child.clearEditor()},a.onRef=function(e){a.child=e},a.renderEidtor=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(re,{getContent:a.setContent,onRef:a.onRef}),r.a.createElement($.a,{justify:"end"},r.a.createElement(te.a,{style:{marginRight:"10px"},type:"ghost",inline:!0,size:"small",onClick:a.handleClick},"\u53d1\u5e03")))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.replies,a=e.timeagoInstance,c=e.login,o=e.id;return r.a.createElement(n.Fragment,null,r.a.createElement(K.a,{renderHeader:function(){return"".concat(t.length," \u6761\u56de\u590d")},className:"my-list"},r.a.createElement(F.a,null),t.map(function(e){return r.a.createElement(se,{key:e.id,item:e,timeagoInstance:a,topic_id:o})})),r.a.createElement(F.a,null),r.a.createElement("h4",{className:oe.a["comment-add"]},"\u6dfb\u52a0\u56de\u590d"),r.a.createElement(F.a,null),c.data.accesstoken?this.renderEidtor():r.a.createElement("div",{style:{textAlign:"center"}},"\u60a8\u5c1a\u672a\u767b\u5f55,\u8bf7\u767b\u5f55\u540e\u64cd\u4f5c!"),r.a.createElement(F.a,null))}}]),t}(n.PureComponent),pe=Object(_.b)(function(e){return{login:e.login}},{fechReplies:Y})(ue),de=a(81),me=a.n(de),Ee=(a(281),me()()),he=function(e){function t(){var e,a;Object(m.a)(this,t);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={id:null},a.collectHandle=function(){var e=a.props,t=e.match,n=e.fechCollect,r=e.login,c=t.params.id;r.data.accesstoken?n({id:c}):Z.a.info("\u8bf7\u767b\u9646\u540e\u64cd\u4f5c",1)},a.de_collectHandle=function(){var e=a.props,t=e.match,n=e.fechDe_collect,r=e.login,c=t.params.id;r.data.accesstoken?n({id:c}):Z.a.info("\u8bf7\u767b\u9646\u540e\u64cd\u4f5c",1)},a.renderContent=function(e,t,c){return r.a.createElement(n.Fragment,null,r.a.createElement(M.Helmet,null,r.a.createElement("title",null,e.title)),r.a.createElement("article",{className:oe.a.topic},r.a.createElement(U.a,null,r.a.createElement("div",{className:oe.a["topic-head"]},r.a.createElement("div",{className:oe.a["topic-head-left"]},r.a.createElement("div",{className:oe.a["topic-head-img"]},r.a.createElement("img",{src:e.author.avatar_url,alt:e.author.loginname})),r.a.createElement("div",null,r.a.createElement("div",{className:oe.a["topic-head-user"]},r.a.createElement(G.a,{to:"/user/".concat(e.author.loginname)},e.author.loginname),"\xa0\xa0",Ee.format(e.last_reply_at,"zh_CN")),r.a.createElement("div",{className:oe.a["topic-head-info"]},"\u9605\u8bfb\xa0\xa0",e.visit_count,"\xa0\xa0\u56de\u590d\xa0\xa0",e.reply_count))),r.a.createElement("div",{className:oe.a["topic-head-collect"]},r.a.createElement("div",null,"\u6536\u85cf"),t?r.a.createElement("div",{onClick:a.de_collectHandle},r.a.createElement("i",{className:"icon iconfont"},"\ue86a")):r.a.createElement("div",{onClick:a.collectHandle},r.a.createElement("i",{className:"icon iconfont"},"\ue7df")))),r.a.createElement("h1",null,e.title),r.a.createElement("article",{className:"markdown-body",dangerouslySetInnerHTML:{__html:e.content}}),r.a.createElement(pe,{replies:e.replies,timeagoInstance:Ee,id:c}))))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=e.fechTopic,n=t.params.id;this.setState({id:n}),a({id:n})}},{key:"componentWillUnmount",value:function(){this.props.clearTopic()}},{key:"render",value:function(){var e=this.props.topic;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,null),r.a.createElement("div",{className:"main"},e.loading?r.a.createElement(U.a,null,r.a.createElement(d.a,{type:"loading"}),"\xa0loading..."):e.error?r.a.createElement(U.a,null,r.a.createElement(d.a,{type:"cross-circle"})," ",e.error):this.renderContent(e.data,e.is_collect,this.state.id)),r.a.createElement(F.a,null))}}]),t}(n.Component),fe=Object(y.a)(Object(_.b)(function(e){return{topic:e.topic,login:e.login}},{fechTopic:function(e){return{type:"FETCH_TOPIC_REQUEST",payload:e}},fechCollect:function(e){return{type:"FETCH_COLLECT_REQUEST",payload:e}},fechDe_collect:function(e){return{type:"FETCH_DE_COLLECT_REQUEST",payload:e}},clearTopic:function(){return{type:"CLEAR_TOPIC"}}})(he)),ge=a(150),be=a.n(ge),ve=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={accesstoken:""},a.changeHandle=function(e){a.setState({accesstoken:e.target.value})},a.handleClick=function(){(0,a.props.fechLogin)({accesstoken:a.state.accesstoken})},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.login,a=e.history;return t.loading?(Z.a.loading("Loading...",1),!1):t.error?(Z.a.fail(t.error,1),!1):void(t.data.loginname&&Z.a.success("\u767b\u5f55\u6210\u529f!",1,function(){a.goBack()}))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:be.a.login},r.a.createElement("input",{type:"text",placeholder:"AccessToken",onChange:this.changeHandle,value:this.state.accesstoken}),r.a.createElement(te.a,{type:"primary",onClick:this.handleClick},"\u767b\u5f55"))),r.a.createElement(F.a,null))}}]),t}(n.PureComponent),ye=Object(y.a)(Object(_.b)(function(e){return{login:e.login}},{fechLogin:function(e){return{type:"FETCH_LOGIN_REQUEST",payload:e}}})(ve)),_e=a(69),Ce=a.n(_e),Oe=me()(),je=[{title:"\u6700\u8fd1\u53d1\u8868"},{title:"\u6700\u65b0\u56de\u590d"}],Te=K.a.Item,ke=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).renderContent=function(e){return r.a.createElement("div",{className:Ce.a.userinfo},r.a.createElement(M.Helmet,null,r.a.createElement("title",null,e.loginname," \u4e2a\u4eba\u4e3b\u9875")),r.a.createElement(U.a,null,r.a.createElement("div",{className:Ce.a.user},r.a.createElement("img",{src:e.avatar_url,alt:e.loginname}),r.a.createElement("div",{className:Ce.a.loginname},e.loginname),r.a.createElement("div",{className:Ce.a["user-message"]},"\u79ef\u5206\uff1a",e.score,"\xa0\xa0\xa0\xa0\u521b\u5efa\uff1a",Oe.format(e.create_at,"zh_CN")),r.a.createElement(w.a,{tabs:je,initialPage:0,onChange:function(e,t){console.log("onChange",t,e)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},r.a.createElement("div",{style:{backgroundColor:"#fff"}},e.recent_topics.map(function(e){return r.a.createElement(G.a,{key:e.id,to:"/topic/".concat(e.id)},r.a.createElement(Te,{extra:Oe.format(e.last_reply_at,"zh_CN")},e.title))})),r.a.createElement("div",{style:{backgroundColor:"#fff"}},e.recent_replies.map(function(e){return r.a.createElement(G.a,{key:e.id,to:"/topic/".concat(e.id)},r.a.createElement(Te,{extra:Oe.format(e.last_reply_at,"zh_CN")},e.title))}))))))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.fechUser)({loginname:t.params.loginname})}},{key:"render",value:function(){var e=this.props.user,t=e.loading,a=e.error,c=e.data;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,null),r.a.createElement("div",{className:"main"},t?r.a.createElement(U.a,null,r.a.createElement(d.a,{type:"loading"}),"\xa0loading..."):a?r.a.createElement(U.a,null,r.a.createElement(d.a,{type:"cross-circle"})," ",a):this.renderContent(c)),r.a.createElement(F.a,null))}}]),t}(n.PureComponent),Se=Object(y.a)(Object(_.b)(function(e){return{user:e.user}},{fechUser:function(e){return{type:"FETCH_USER_REQUEST",payload:e}}})(ke)),xe=(a(285),a(151)),Ne=a.n(xe),Ie=(a(294),a(152)),we=a.n(Ie),Re=a(107),Fe=a.n(Re),Le=[{label:r.a.createElement("div",null,"\u95ee\u7b54"),value:"ask"},{label:r.a.createElement("div",null,"\u5206\u4eab"),value:"share"},{label:r.a.createElement("div",null,"\u5de5\u4f5c"),value:"job"},{label:r.a.createElement("div",null,"\u5ba2\u6237\u7aef\u6d4b\u8bd5"),value:"dev"}],Ue=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={tabValue:null,title:null,content:null},a.setContent=function(e){a.setState({content:e})},a.handleClick=function(){var e=a.state,t=e.tabValue,n=e.title,r=e.content,c=a.props,o=c.fechPublish,l=c.history;return t?n?r?void o({title:n,tab:t[0],content:r,history:l}):(Z.a.info("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a",1),!1):(Z.a.info("\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a",1),!1):(Z.a.info("\u5206\u7c7b\u4e0d\u80fd\u4e3a\u7a7a",1),!1)},a.onRef=function(e){a.child=e},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.login,a=e.history;t.data.accesstoken||a.push("/login")}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(M.Helmet,null,r.a.createElement("title",null,"\u53d1\u5e03\u8bdd\u9898")),r.a.createElement(F.a,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:Fe.a.publish},r.a.createElement(we.a,{data:Le,cols:1,value:this.state.tabValue,onChange:function(t){return e.setState({tabValue:t})},onOk:function(t){return e.setState({tabValue:t})},className:"forss"},r.a.createElement(K.a.Item,{arrow:"horizontal",className:Fe.a["publish-cate"]},"\u5206\u7c7b")),r.a.createElement(Ne.a,{placeholder:"\u8bf7\u8f93\u5165\u8bdd\u9898\u6807\u9898",value:this.state.title,onChange:function(t){return e.setState({title:t})},ref:function(t){return e.labelFocusInst=t}},r.a.createElement("div",{onClick:function(){return e.labelFocusInst.focus()}},"\u6807\u9898")),r.a.createElement(F.a,null),r.a.createElement(U.a,null,r.a.createElement(re,{getContent:this.setContent,onRef:this.onRef}),r.a.createElement($.a,{justify:"end"},r.a.createElement(te.a,{style:{marginRight:"10px"},type:"ghost",inline:!0,size:"small",onClick:this.handleClick},"\u53d1\u5e03"))))),r.a.createElement(F.a,null))}}]),t}(n.PureComponent),He=Object(y.a)(Object(_.b)(function(e){return{login:e.login}},{fechPublish:function(e){return{type:"FETCH_PUBLISH_REQUEST",payload:e}}})(Ue)),Pe=(a(312),a(70)),De=a.n(Pe),Ae=(a(120),a(80)),Ge=a.n(Ae),Qe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).renderContent=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(De.a,{className:"my-accordion",onChange:a.onChange},r.a.createElement(De.a.Panel,{header:r.a.createElement("div",null,"\u672a\u8bfb\u6d88\u606f\xa0\xa0",r.a.createElement(Ge.a,{text:77,overflowCount:e.hasnot_read_messages.length}))},r.a.createElement(U.a,null,r.a.createElement(K.a,{className:"my-list"},e.hasnot_read_messages.map(function(e){return r.a.createElement(K.a.Item,{key:"item.id"},r.a.createElement(G.a,{to:"/topic/".concat(e.topic.id)},e.topic.title))}))))),r.a.createElement(De.a,{className:"my-accordion",onChange:a.onChange},r.a.createElement(De.a.Panel,{header:r.a.createElement("div",null,"\u5df2\u8bfb\u6d88\u606f\xa0\xa0",r.a.createElement(Ge.a,{text:77,overflowCount:e.has_read_messages.length}))},r.a.createElement(U.a,null,r.a.createElement(K.a,{className:"my-list"},e.has_read_messages.map(function(e){return r.a.createElement(K.a.Item,{key:"item.id"},r.a.createElement(G.a,{to:"/topic/".concat(e.topic.id)},e.topic.title))}))))))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fechMsg,a=e.login,n=e.history;a.data.accesstoken?t():n.push("/login")}},{key:"render",value:function(){var e=this.props.message;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,null),r.a.createElement("div",{className:"main"},e.loading?r.a.createElement(U.a,null,r.a.createElement(d.a,{type:"loading"}),"\xa0loading..."):e.error?r.a.createElement(U.a,null,r.a.createElement(d.a,{type:"cross-circle"})," ",e.error):this.renderContent(e.data)),r.a.createElement(F.a,null))}}]),t}(n.PureComponent),ze=Object(y.a)(Object(_.b)(function(e){return{message:e.message,login:e.login}},{fechMsg:function(e){return{type:"FETCH_MSG_REQUEST",payload:e}}})(Qe)),Be=function(){return r.a.createElement(l.a,null,r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement(j,null)),r.a.createElement(i.a,{exact:!0,path:"/",component:q}),r.a.createElement(i.a,{exact:!0,path:"/topic/:id",component:fe}),r.a.createElement(i.a,{exact:!0,path:"/login",component:ye}),r.a.createElement(i.a,{exact:!0,path:"/user/:loginname",component:Se}),r.a.createElement(i.a,{exact:!0,path:"/publish",component:He}),r.a.createElement(i.a,{exact:!0,path:"/message",component:ze}),r.a.createElement(N,null)))},Me=(a(315),a(41)),Ve=a(31),qe={all:{data:[],page:1,limit:20,error:!1,scrollTop:0},good:{data:[],page:1,limit:20,error:!1,scrollTop:0},share:{data:[],page:1,limit:20,error:!1,scrollTop:0},ask:{data:[],page:1,limit:20,error:!1,scrollTop:0},job:{data:[],page:1,limit:20,error:!1,scrollTop:0},dev:{data:[],page:1,limit:20,error:!1,scrollTop:0}},We={data:null,loading:!0,error:!1,is_collect:!1},Ze={data:{},loading:!0,error:!1},Ye={loading:!1,error:!1,data:{}},Je={data:{},loading:!0,error:!1},Ke=Object(Me.combineReducers)({test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(arguments.length>1?arguments[1]:void 0).type,e},topics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LIST_SUCCEEDED":var a=Object.assign({},Object(Ve.a)({},e));return a[t.payload.tab].data=a[t.payload.tab].data.concat(t.payload.data),a[t.payload.tab].page+=1,Object(Ve.a)({},e,a);case"FETCH_LIST_FAILURE":return(a=Object.assign({},Object(Ve.a)({},e)))[t.payload.tab].error=t.payload.error,Object(Ve.a)({},e,a);case"GET_SCROLL_TOP":return(a=Object.assign({},Object(Ve.a)({},e)))[t.tab].scrollTop=t.scrollTop,Object(Ve.a)({},e,a);default:return e}},topic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TOPIC_SUCCEEDED":var a=!!t.payload.data.is_collect&&t.payload.data.is_collect;return{data:t.payload.data,loading:!1,error:!1,is_collect:a};case"FETCH_TOPIC_FAILURE":return{data:null,loading:!1,error:t.error,is_collect:!1};case"COLLECT_SUCCEEDED":return Object(Ve.a)({},e,{is_collect:!0});case"DE_COLLECT_SUCCEEDED":return Object(Ve.a)({},e,{is_collect:!1});case"FETCH_TOPIC_SUCCEEDED_AGAIN":return Object(Ve.a)({},e,{data:t.payload.data});case"CLEAR_TOPIC":return{data:null,loading:!0,error:!1,is_collect:!1};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_SUCCEEDED":return{data:t.payload.data,loading:!1,error:!1};default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOGIN_SUCCEEDED":return{data:t.payload.data,loading:!1,error:!1};case"FETCH_LOGIN_LOADING":return{data:{},loading:!0,error:!1};case"FETCH_LOGIN_FAILURE":return{data:{},loading:!1,error:t.error};case"LOGIN_OUT":return sessionStorage.removeItem("loginname"),sessionStorage.removeItem("accesstoken"),{data:{},loading:!1,error:!1};case"PAGE_REFRESH":return{data:{loginname:sessionStorage.getItem("loginname")?sessionStorage.getItem("loginname"):null,accesstoken:sessionStorage.getItem("accesstoken")?sessionStorage.getItem("accesstoken"):null},loading:!1,error:!1};default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MSG_SUCCEEDED":return{data:t.payload.data,loading:!1,error:!1};case"FETCH_MSG_FAILURE":return{data:{},loading:!1,error:t.error};default:return e}},tab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TAB_ACTIVE":return t.num;default:return e}}}),Xe=a(154),$e=a(10),et=a.n($e),tt=a(54),at=a(9),nt=a(25),rt=a.n(nt),ct=et.a.mark(lt),ot=et.a.mark(it);function lt(e){var t;return et.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(at.b)(rt.a.get,"https://cnodejs.org/api/v1/topics",{params:e.payload});case 3:return t=a.sent,a.next=6,Object(at.c)({type:"FETCH_LIST_SUCCEEDED",payload:{tab:e.payload.tab,data:t.data.data}});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(at.c)({type:"FETCH_LIST_FAILURE",payload:{tab:e.payload.tab,error:a.t0.message}});case 12:case"end":return a.stop()}},ct,this,[[0,8]])}function it(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.e)("FETCH_TOPICS_REQUEST",lt);case 2:case"end":return e.stop()}},ot,this)}var st=[it()],ut=function(e){return e.login.data.accesstoken},pt=et.a.mark(_t),dt=et.a.mark(Ct),mt=et.a.mark(Ot),Et=et.a.mark(jt),ht=et.a.mark(Tt),ft=et.a.mark(kt),gt=et.a.mark(St),bt=et.a.mark(xt),vt=et.a.mark(Nt),yt=et.a.mark(It);function _t(e){var t,a;return et.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(at.d)(ut);case 3:return t=n.sent,n.next=6,Object(at.b)(rt.a.get,"https://cnodejs.org/api/v1/topic/".concat(e.payload.id),{params:{accesstoken:t}});case 6:return a=n.sent,n.next=9,Object(at.c)({type:"FETCH_TOPIC_SUCCEEDED",payload:{data:a.data.data}});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(at.c)({type:"FETCH_TOPIC_FAILURE",error:n.t0.message});case 15:case"end":return n.stop()}},pt,this,[[0,11]])}function Ct(e){var t;return et.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(at.d)(ut);case 3:return t=a.sent,a.next=6,Object(at.b)(rt.a.post,"https://cnodejs.org/api/v1/topic_collect/collect",{topic_id:e.payload.id,accesstoken:t});case 6:return Z.a.info("\u6536\u85cf\u8bdd\u9898\u6210\u529f",1),a.next=9,Object(at.c)({type:"COLLECT_SUCCEEDED"});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Z.a.info("\u6536\u85cf\u8bdd\u9898\u5931\u8d25",1);case 14:case"end":return a.stop()}},dt,this,[[0,11]])}function Ot(e){var t;return et.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(at.d)(ut);case 3:return t=a.sent,a.next=6,Object(at.b)(rt.a.post,"https://cnodejs.org/api/v1/topic_collect/de_collect",{topic_id:e.payload.id,accesstoken:t});case 6:return Z.a.info("\u53d6\u6d88\u6536\u85cf\u8bdd\u9898\u6210\u529f",1),a.next=9,Object(at.c)({type:"DE_COLLECT_SUCCEEDED"});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Z.a.info("\u53d6\u6d88\u6536\u85cf\u8bdd\u9898\u5931\u8d25",1);case 14:case"end":return a.stop()}},mt,this,[[0,11]])}function jt(e){var t,a;return et.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(at.d)(ut);case 3:return t=n.sent,n.next=6,Object(at.b)(rt.a.post,"https://cnodejs.org/api/v1/topic/".concat(e.payload.id,"/replies"),Object(Ve.a)({},e.payload,{accesstoken:t}));case 6:return Z.a.info("\u56de\u590d\u8bdd\u9898\u6210\u529f",1),n.next=9,Object(at.b)(rt.a.get,"https://cnodejs.org/api/v1/topic/".concat(e.payload.id),{params:{accesstoken:t}});case 9:return a=n.sent,n.next=12,Object(at.c)({type:"FETCH_TOPIC_SUCCEEDED_AGAIN",payload:{data:a.data.data}});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),Z.a.info("\u56de\u590d\u8bdd\u9898\u5931\u8d25",1);case 17:case"end":return n.stop()}},Et,this,[[0,14]])}function Tt(e){var t,a;return et.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(at.d)(ut);case 3:return t=n.sent,n.next=6,Object(at.b)(rt.a.post,"https://cnodejs.org/api/v1/reply/".concat(e.payload.reply_id,"/ups"),{accesstoken:t});case 6:return"up"===n.sent.data.action?Z.a.info("\u8bc4\u8bba\u70b9\u8d5e\u6210\u529f",1):Z.a.info("\u8bc4\u8bba\u53d6\u6d88\u70b9\u8d5e\u6210\u529f",1),n.next=10,Object(at.b)(rt.a.get,"https://cnodejs.org/api/v1/topic/".concat(e.payload.topic_id),{params:{accesstoken:t}});case 10:return a=n.sent,n.next=13,Object(at.c)({type:"FETCH_TOPIC_SUCCEEDED_AGAIN",payload:{data:a.data.data}});case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),Z.a.info("\u8bc4\u8bba\u70b9\u8d5e\u64cd\u4f5c\u5931\u8d25",1);case 18:case"end":return n.stop()}},ht,this,[[0,15]])}function kt(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.e)("FETCH_TOPIC_REQUEST",_t);case 2:case"end":return e.stop()}},ft,this)}function St(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.e)("FETCH_COLLECT_REQUEST",Ct);case 2:case"end":return e.stop()}},gt,this)}function xt(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.e)("FETCH_DE_COLLECT_REQUEST",Ot);case 2:case"end":return e.stop()}},bt,this)}function Nt(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.f)("FETCH_REPLIES_REQUEST",jt);case 2:case"end":return e.stop()}},vt,this)}function It(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.f)("FETCH_REPLIES_UP_REQUEST",Tt);case 2:case"end":return e.stop()}},yt,this)}var wt=[kt(),St(),xt(),Nt(),It()],Rt=et.a.mark(Lt),Ft=et.a.mark(Ut);function Lt(e){var t;return et.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(at.b)(rt.a.get,"https://cnodejs.org/api/v1/user/".concat(e.payload.loginname));case 3:return t=a.sent,a.next=6,Object(at.c)({type:"FETCH_USER_SUCCEEDED",payload:{data:t.data.data}});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(at.c)({type:"FETCH_USER_FAILURE",error:a.t0.message});case 12:case"end":return a.stop()}},Rt,this,[[0,8]])}function Ut(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.e)("FETCH_USER_REQUEST",Lt);case 2:case"end":return e.stop()}},Ft,this)}var Ht=[Ut()],Pt=et.a.mark(At),Dt=et.a.mark(Gt);function At(e){var t;return et.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(at.c)({type:"FETCH_LOGIN_LOADING"});case 3:return a.next=5,Object(at.b)(rt.a.post,"https://cnodejs.org/api/v1/accesstoken",e.payload);case 5:return t=a.sent,sessionStorage.setItem("loginname",t.data.loginname),sessionStorage.setItem("accesstoken",e.payload.accesstoken),a.next=10,Object(at.c)({type:"FETCH_LOGIN_SUCCEEDED",payload:{data:{loginname:t.data.loginname,accesstoken:e.payload.accesstoken}}});case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(at.c)({type:"FETCH_LOGIN_FAILURE",error:a.t0.message});case 16:case"end":return a.stop()}},Pt,this,[[0,12]])}function Gt(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.e)("FETCH_LOGIN_REQUEST",At);case 2:case"end":return e.stop()}},Dt,this)}var Qt=[Gt()],zt=et.a.mark(Mt),Bt=et.a.mark(Vt);function Mt(e){var t,a;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(at.d)(ut);case 3:return t=e.sent,e.next=6,Object(at.b)(rt.a.get,"https://cnodejs.org/api/v1/messages",{params:{accesstoken:t}});case 6:return a=e.sent,e.next=9,Object(at.c)({type:"FETCH_MSG_SUCCEEDED",payload:{data:a.data.data}});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(at.c)({type:"FETCH_MSG_FAILURE",error:e.t0.message});case 15:case"end":return e.stop()}},zt,this,[[0,11]])}function Vt(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.e)("FETCH_MSG_REQUEST",Mt);case 2:case"end":return e.stop()}},Bt,this)}var qt=[Vt()],Wt=et.a.mark(Yt),Zt=et.a.mark(Jt);function Yt(e){var t,a,n;return et.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(at.d)(ut);case 3:return t=r.sent,r.next=6,Object(at.b)(rt.a.post,"https://cnodejs.org/api/v1/topics",{tab:e.payload.tab,title:e.payload.title,content:e.payload.content,accesstoken:t});case 6:a=r.sent,console.log(a),n=e.payload.history,Z.a.info("\u8bdd\u9898\u53d1\u5e03\u6210\u529f",1),n.push("/topic/".concat(a.data.topic_id)),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),Z.a.info("\u8bdd\u9898\u53d1\u5e03\u5931\u8d25",1);case 16:case"end":return r.stop()}},Wt,this,[[0,13]])}function Jt(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.f)("FETCH_PUBLISH_REQUEST",Yt);case 2:case"end":return e.stop()}},Zt,this)}var Kt=[Jt()],Xt=et.a.mark($t);function $t(){return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.a)(Object(tt.a)(st).concat(Object(tt.a)(wt),Object(tt.a)(Ht),Object(tt.a)(Qt),Object(tt.a)(qt),Object(tt.a)(Kt)));case 2:case"end":return e.stop()}},Xt,this)}a(337);var ea=Object(Xe.a)(),ta=null;ta=Object(Me.createStore)(Ke,Object(Me.applyMiddleware)(ea)),ea.run($t),o.a.render(r.a.createElement(_.a,{store:ta},r.a.createElement(Be,null)),document.getElementById("root"))},45:function(e,t,a){e.exports={"topic-item":"_3NCW90bReEt8Q0wnAASHp-","item-titile":"nTTn8lcSnigMffK6o2jP-",top:"_1X_UOd508JUcuUVTrfBkE0","item-content":"_2GRYZryRXWY70Ur0vML4SS","item-footer":"_16xTASkRcrufOi9QnCUqN","item-footer-user":"_3Pl21a_DNZP-_L9vhIk_Vn","item-footer-right":"ZB_RCk1w4R0_d8D-3GVbJ"}},69:function(e,t,a){e.exports={userinfo:"_3JaL9opYEVe2LdtwiAnmRy",user:"_1h5j-l-ydBzr10WfN5rPtD",loginname:"_2aXnLfqqnS3PCg9fqIPfC7","user-message":"_3sqZ7FwHG9yWciaW6wI-QZ"}}},[[155,2,1]]]);
//# sourceMappingURL=main.155f7b21.chunk.js.map